/*! ng-fi-text v0.1.0 - 2014-11-10 
 *  License: MIT 
 *  Author: Leandro Bessone */

angular.module("ng-fi-text",[]).directive("ngFiText",["$window",function(a){"use strict";return{restrict:"A",scope:{ngFiText:"@",ngFiTextHtml:"@"},link:function(b,c,d){function e(a){var b="";b="html"===m?d.ngFiTextHtml||c.html()||"":d.ngFiText||c.text()||"",s[m](b),a&&a()}function f(){function a(f){return r>p?void i(v):(h(),s.css("font-size",v+"px"),"html"===m&&s.children().css("font-size",v+"px"),void window.setTimeout(function(){if(f===q){if(b=s.height(),c=j-b,c>=0&&(y>c||!y)&&(y=c,z=v),e=c>=0?1:-1,l&&l!==e){if(x===c)return v!==z&&(s.css("font-size",z+"px"),"html"===m&&s.children().css("font-size",z+"px")),void i(v);x=w,w=c,t++,u*=1-.25*t,u=.05>u?.05:u}l=e,d=k*u*e,v+=d,r++,Math.abs(c)>n?a(q):i(v)}},0))}g(),q++;var b,c,d,e,f=s.parent(),j=f.height(),k=10,l=!1,r=1,t=0,u=1,v=o;c=j-b;var w="",x="",y=!1,z=!1;a(q)}function g(){s.css("visibility","hidden")}function h(){}function i(a){l&&a>l&&s.css("font-size",l+"px"),s.css("visibility","visible")}function j(){s.css("visibility","hidden")}if(!window.jQuery)return void console.error("ng-fi-text needs jQuery to work. Sory :(");var k=d.ngFiTextRotate||!1,l=d.ngFiTextMaxFontSize||!1,m=d.hasOwnProperty("ngFiTextHtml")?"html":"text",n=3,o=10,p=25,q=0,r=k?" rotate("+k+"deg) ":"",s=angular.element("<div />").attr("style","word-wrap: break-word;line-height: normal;margin: 0px;position: absolute; left:0px;right: 0px;top: 50%;-webkit-transform: translate(0%,-50%) "+r+";-moz-transform: translate(0%,-50%) "+r+";-ms-transform: translate(0%,-50%) "+r+";transform: translate(0%,-50%) "+r+";");c.html(s);var t;angular.element(a).bind("resize",function(){window.clearTimeout(t),j(),t=window.setTimeout(f,150)}),b.$watchGroup(["ngFiText","ngFiTextHtml"],function(){e(f)}),e(f)}}}]);
//# sourceMappingURL=ng-fi-text.min.js.map